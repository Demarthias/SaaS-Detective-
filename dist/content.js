(()=>{"use strict";const t=[{id:"wordpress",name:"WordPress",category:"CMS",affiliateLink:"https://wordpress.org",patterns:["wp-content","wp-includes"]},{id:"shopify",name:"Shopify",category:"E-Commerce",affiliateLink:"https://www.shopify.com",patterns:["cdn.shopify.com","shopify.com"]},{id:"wix",name:"Wix",category:"Site Builder",affiliateLink:"https://www.wix.com",patterns:["wix.com","wix-code"]},{id:"squarespace",name:"Squarespace",category:"Site Builder",affiliateLink:"https://www.squarespace.com",patterns:["squarespace.com","static.squarespace"]},{id:"webflow",name:"Webflow",category:"Site Builder",affiliateLink:"https://webflow.com",patterns:["webflow.com","webflow.js"]},{id:"framer",name:"Framer",category:"Site Builder",affiliateLink:"https://framer.com",patterns:["framer.com","framerusercontent"]},{id:"bubble",name:"Bubble",category:"No-Code",affiliateLink:"https://bubble.io",patterns:["bubble.io","cloudfront.net/bubble"]},{id:"google_analytics",name:"Google Analytics",category:"Analytics",affiliateLink:"https://analytics.google.com",patterns:["google-analytics.com","googletagmanager.com"]},{id:"segment",name:"Segment",category:"Data Platform",affiliateLink:"https://segment.com",patterns:["cdn.segment.com","analytics.js"]},{id:"mixpanel",name:"Mixpanel",category:"Analytics",affiliateLink:"https://mixpanel.com",patterns:["cdn.mxpnl.com","mixpanel.com"]},{id:"hotjar",name:"Hotjar",category:"Heatmaps",affiliateLink:"https://www.hotjar.com",patterns:["static.hotjar.com"]},{id:"clarity",name:"Microsoft Clarity",category:"Heatmaps",affiliateLink:"https://clarity.microsoft.com",patterns:["www.clarity.ms"]},{id:"intercom",name:"Intercom",category:"Chat",affiliateLink:"https://www.intercom.com",patterns:["widget.intercom.io"]},{id:"drift",name:"Drift",category:"Chat",affiliateLink:"https://www.drift.com",patterns:["js.drift.com"]},{id:"hubspot",name:"HubSpot",category:"CRM / Chat",affiliateLink:"https://www.hubspot.com",patterns:["js.hs-scripts.com","js.hs-analytics.net"]},{id:"mailchimp",name:"Mailchimp",category:"Email Marketing",affiliateLink:"https://mailchimp.com",patterns:["chimpstatic.com","mailchimp.com"]},{id:"klaviyo",name:"Klaviyo",category:"Email Marketing",affiliateLink:"https://www.klaviyo.com",patterns:["static.klaviyo.com"]},{id:"facebook_pixel",name:"Meta Pixel",category:"Ads",affiliateLink:"https://www.facebook.com/business/pixelate",patterns:["connect.facebook.net"]},{id:"tiktok_pixel",name:"TikTok Pixel",category:"Ads",affiliateLink:"https://ads.tiktok.com",patterns:["analytics.tiktok.com"]},{id:"linkedin_insight",name:"LinkedIn Insight",category:"Ads",affiliateLink:"https://business.linkedin.com/marketing-solutions/insight-tag",patterns:["snap.licdn.com"]},{id:"react",name:"React",category:"Framework",affiliateLink:"https://react.dev",patterns:["react.production.min.js","react-dom"]},{id:"vue",name:"Vue.js",category:"Framework",affiliateLink:"https://vuejs.org",patterns:["vue.js","vue.min.js"]},{id:"jquery",name:"jQuery",category:"Library",affiliateLink:"https://jquery.com",patterns:["jquery.com","jquery.min.js"]},{id:"nextjs",name:"Next.js",category:"Framework",affiliateLink:"https://nextjs.org",patterns:["_next/static"]},{id:"stripe",name:"Stripe",category:"Payments",affiliateLink:"https://stripe.com",patterns:["js.stripe.com","m.stripe.network"]},{id:"paypal",name:"PayPal",category:"Payments",affiliateLink:"https://www.paypal.com",patterns:["paypal.com/sdk","paypalobjects.com"]}],e={enabledCategories:{CMS:!0,"E-Commerce":!0,"Site Builder":!0,"No-Code":!0,Analytics:!0,"Data Platform":!0,Heatmaps:!0,Chat:!0,"CRM / Chat":!0,"Email Marketing":!0,Ads:!0,Framework:!0,Library:!0,Payments:!0}};chrome.runtime.onMessage.addListener((a,i,o)=>{if("SCAN_PAGE"===a.action){const a=Array.from(document.getElementsByTagName("script")),i=[],s=new Set;chrome.storage.sync.get({sd_options:e},({sd_options:n})=>{const r=n||e;t.forEach(t=>{var e,o;(null===(o=null===(e=r.enabledCategories)||void 0===e?void 0:e[t.category])||void 0===o||o)&&a.some(e=>e.src&&t.patterns.some(t=>e.src.includes(t)))&&!s.has(t.id)&&(i.push({name:t.name,category:t.category,link:t.affiliateLink||"#"}),s.add(t.id))}),o({tools:i})})}return!0})})();